--- old.moduleSharesNameWithImportDeclarationInsideIt3.js
+++ new.moduleSharesNameWithImportDeclarationInsideIt3.js
@@= skipped -20, +20 lines =@@
 //// [moduleSharesNameWithImportDeclarationInsideIt3.js]
 var Z;
 (function (Z) {
-    var M;
+    let M;
     (function (M) {
         function bar() {
             return "";
@@= skipped -10, +10 lines =@@
 })(Z || (Z = {}));
 var A;
 (function (A) {
-    var M;
+    let M;
     (function (M_1) {
         var M = Z.M;
+        var M = Z.I;
         function bar() {
         }
         M_1.bar = bar;
-        M.bar(); // Should call Z.M.bar
+        M.bar();
     })(M = A.M || (A.M = {}));
 })(A || (A = {}));
